# PHP_2023 Timerkhanov Arhtur HW16
## Use templates
## Полученное задание от преподователя:

Разработайте несложный REST API (только backend!) для сервиса аренды недвижимости, на котором можно арендовать жилую или коммерческую недвижимость.

Сущности:

- продумайте их самостоятельно исходя из описания задачи (чем проще, тем лучше)
- у объектов недвижимости может быть 2 типа: жилой или коммерческий

Методы API:

- создать новый объект недвижимости
- загрузить список объектов
- загрузить конкретный объект
- сформировать пакет документов для аренды

Паттерны проектирования:

- используйте Прокси, чтобы выполнить ленивую загрузку кадастровой информации об объекте недвижимости (сымитируйте обращение к внешнему API)
- используйте Стратегию, чтобы можно было использовать разные кадастровые API (у них должен быть общий интерфейс)
- используйте Абстрактную Фабрику, чтобы сформировать два документа: "Договор коммерческой аренды + Счёт" или "Договор жилой аренды + Квитанция" (в зависимости от типа объекта недвижимости)

Реализация:

- можно взять готовый фреймворк (Symfony, Laravel, Yii...)
- но при этом нельзя брать готовые библиотеки для реализации паттернов (их нужно написать "руками")
- REST API должен работать с JSON; фронт-енд писать не нужно

## Выполнение
### Proxy
- Паттерн прокси использовал при при загрузке объекта Недвижимости из БД, при запросе - запрос сначала попадает в обертку (так называемого Заместителя),
где смотрим нужна ли Кадастровая информация по запрашиваемыму объекту по внешнему API.
- Получаем объект - а Кадастровая информация подгрузиться (используем ленивую загрузку)
- На данном этапе также присутсвует шаблон для кеширования IdentyMap

### Strategy
- В классе "заместителя" - где определяется по типу недвижимости в какое API обратиться (если надо) за кадастровой информаций
- В классе которые обращается использовал общий интерфейс для обращений в внешний API за кадастровой информаций
- Подставлял нужный класс исходя из типа недвижимости и вызывал нужный метод

### Abstract Factory
- Для получения пакета документа исходя от типа недвижимости - создал фабрики которые так же исходя от типа недвижки 
создается нужный объект фабрики который имплементирует нужный интерфейс
- Дальше запускаем необходимые методы - которые возвращает нужный объект согласно интерфейсу

### Постарался реальзовать код в слоенной архитектуре