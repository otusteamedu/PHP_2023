##Модульные тесты:
```
Если card_holder содержит более одного пробела, то тестируемый метод возвращает 400 с сообщением об ошибке.
Если card_number содержит не 16 цифр, то тестируемый метод возвращает 400 с сообщением об ошибке.
Если card_holder содержит недопустимые символы, такие как цифры, то тестируемый метод возвращает 400 с сообщением об ошибке.
Если формат card_expiration не соответствует "мм/гг", то тестируемый метод возвращает 400 с сообщением об ошибке.
Если cvv содержит не 3 цифры, то тестируемый метод возвращает 400 с сообщением об ошибке.
Если order_number более 16 символов, то тестируемый метод возвращает 400 с сообщением об ошибке.
Если sum содержит нечисловые символы, то тестируемый метод возвращает 400 с сообщением об ошибке.
```
##Интеграционные тесты:
```
Проверяем связку «фронт-бэк»:
Если card_holder содержит более одного пробела, то после получения ответа от бэка на фронте выделяется поле "Номер карты" красной рамкой.
Если card_number содержит не 16 цифр, то после получения ответа от бэка на фронте выделяется поле "Номер карты" красной рамкой.
Проверяем связку «бэк-репозиторий»:
Если списание средств неудачно (HTTP-код 403), то репозиторий не вызывается.
Если списание средств успешно (HTTP-код 200), то репозиторий вызывается и проверяет соответствие номера заказа и суммы.
```
##Системные тесты:
```
Если cvv неверен, то после получения ответа от бэка на фронте выводится сообщение об ошибке "Не удалось списать данные с карты, проверьте реквизиты".
Если формат card_expiration неверен, то после получения ответа от бэка на фронте выводится сообщение об ошибке "Неверный формат срока действия карты".
Если order_number не существует в базе данных, то после успешного списания денег фронт выводит сообщение об ошибке "Не удалось подтвердить оплату, обратитесь в службу поддержки".
Если сумма списания не соответствует ожидаемой, то после успешного списания денег фронт выводит сообщение об ошибке "Неверная сумма списания, обратитесь в службу поддержки".
```
##Замечания:
>Различное поведение фронта при ошибках одного уровня должно быть консистентным, например, выделение поля красной рамкой.
Предлагаемые кейсы гарантируют, что пользователь сможет воспользоваться страницей после успешного списания денег.