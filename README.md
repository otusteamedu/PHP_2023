---
# Система уведомлений о событиях

Это веб-приложение (REST API), которое уведомляет подписчиков о различных событиях, происходящих в городе. Приложение использует несколько шаблонов проектирования для достижения своей функциональности.

## Шаблон Декоратор

Шаблон декоратора используется для добавления функциональности логирования при обработке уведомлений о событиях. Он позволяет приложению регистрировать информацию до и после отправки уведомлений.

### LoggingNotificationDecorator

- Местоположение: `App\Services\Notification\LoggingNotificationDecorator`
- Назначение: Декорирует базовую стратегию уведомлений и регистрирует информацию до и после отправки уведомлений.
- Использование: `LoggingNotificationDecorator` используется в классе `EventObserver` для обертывания предпочитаемой стратегии уведомлений подписчика функциональностью логирования.

## Шаблон Наблюдатель

Шаблон наблюдатель реализован для управления подпиской и распространением уведомлений о событиях. Он позволяет приложению оповещать подписчиков о новых событиях.

### EventObserver

- Местоположение: `App\Observers\EventObserver`
- Назначение: Слушает событие "created" и обрабатывает процесс уведомления.
- Использование: `EventObserver` используется для привязки событий к соответствующим подписчикам на основе типа события и отправки уведомлений с использованием предпочитаемой стратегии уведомлений подписчиков.

## Шаблон Прокси

Шаблон прокси используется для ленивой загрузки списка событий для объекта пользователя. Он позволяет приложению загружать события только по мере необходимости, что улучшает производительность.

### SubscriberEventsProxy

- Местоположение: `App\Services\SubscriberEventsProxy`
- Назначение: Действует как прокси для событий подписчика, позволяя лениво загружать события.
- Использование: `SubscriberEventsProxy` используется в `SubscriberController` для получения событий для подписчика. Он кэширует события и загружает их только по запросу.

## Шаблон Стратегия

Шаблон стратегия используется для предоставления различных стратегий уведомлений. Он позволяет приложению отправлять уведомления различными способами (например, по электронной почте, SMS) в зависимости от предпочтений подписчика.

### Стратегии уведомлений

- `EmailNotificationStrategy`
    - Местоположение: `App\Services\Notification\EmailNotificationStrategy`
    - Назначение: Реализует стратегию уведомлений по электронной почте.
- `SmsNotificationStrategy`
    - Местоположение: `App\Services\Notification\SmsNotificationStrategy`
    - Назначение: Реализует стратегию уведомлений по SMS.

### Использование стратегий уведомлений

Стратегии уведомлений используются в `EventObserver` для отправки уведомлений подписчикам в зависимости от их предпочтительной стратегии уведомлений. Фактическая стратегия определяется динамически на основе предпочтений подписчика.

---