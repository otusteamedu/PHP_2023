

# Старая структура кода

## Принципы SOLID

### Принцип единой ответственности (SRP)
Принцип единой ответственности (SRP): такие классы, как `EventRepository` и `RedisClient`, придерживаются SRP, фокусируясь на взаимодействии с базой данных и конфигурации, соответственно. Однако класс `App` смешивает логику приложения с прямым инстанцированием зависимостей, что могло бы быть лучше структурировано для единой ответственности.

### Принцип открытости/закрытости (OCP)
Принцип открытости/закрытости (OCP): Дизайн демонстрирует ограниченную гибкость в расширении функциональности без модификации существующего кода. Например, расширение логики фильтрации событий или добавление новых источников, скорее всего, потребует внесения изменений в существующие классы, что указывает на потенциальное нарушение OCP.

### Принцип подстановки Лисков (LSP)
Принцип замещения Лискова (LSP): среди представленных классов нет четкого наследования или реализации интерфейсов, которые бы напрямую относились к LSP, но отсутствие интерфейсов или абстрактных классов говорит о том, что дизайн может не полностью поддерживать легкую замену и расширение.

### Принцип разделения интерфейса (ISP)
Принцип разделения интерфейсов (ISP): проект не демонстрирует использование интерфейсов, что означает потенциальное объединение нескольких функциональных возможностей в одном классе. Это может привести к принудительной реализации методов, которые не относятся ко всем потребляющим классам, что нарушает ISP.

### Принцип инверсии зависимостей (DIP)
Принцип инверсии зависимостей (Dependency Inversion Principle, DIP): Проект напрямую инстанцирует зависимости внутри классов (например, new RedisClient() в App), а не инжектирует их через конструкторы или сеттеры, что противоречит DIP. Это делает систему менее гибкой и более привязанной к конкретным реализациям, а не к абстракциям.

## Чистая архитектура
Чистая архитектура: В коде нет четкого разделения проблем на отдельные уровни (например, представление, прикладная/бизнес-логика и доступ к данным). Прямое инстанцирование компонентов доступа к данным в слое бизнес-логики (класс App) указывает на отсутствие четкой границы между этими проблемами.


# Новая структура кода

## Принципы SOLID

### Принцип единой ответственности (SRP)
Классы сущностей (например, `Event`), объекты значений (`Priority`, `Source`, `Payload`), и объекты передачи данных (`EventDataDTO`, `EventFilterDTO`) явно разделены, где каждый класс занимается только своей специфической задачей.
Репозитории (например, `RedisEventRepository`) теперь занимаются только взаимодействием с хранилищем данных, что полностью соответствует SRP.

### Принцип открытости/закрытости (OCP)
Использование интерфейсов (`EventFilterInterface`, `EventRepositoryInterface`) позволяет расширять функциональность системы через добавление новых реализаций, не модифицируя существующий код.
Сервисы и репозитории могут быть легко расширены новыми классами, следуя этому принципу.

### Принцип подстановки Лисков (LSP)
Реализация интерфейсов (`EventRepositoryInterface` и другие) гарантирует, что объекты этих интерфейсов могут быть взаимозаменяемы без изменения корректности работы программы.

### Принцип разделения интерфейса (ISP)
Проект использует узкоспециализированные интерфейсы, что позволяет классам реализовывать только те методы, которые им действительно необходимы, избегая ненужной зависимости от неиспользуемых методов.

### Принцип инверсии зависимостей (DIP)
Внедрение зависимостей через конструкторы и использование абстракций (интерфейсов) для определения высокоуровневых модулей демонстрирует применение DIP. Такой подход позволяет снизить зависимость между конкретными реализациями и способствует гибкости архитектуры.

## Чистая архитектура
Измененный проект также лучше соответствует принципам чистой архитектуры благодаря чёткому разделению на слои:

Доменный слой содержит бизнес-логику и бизнес-сущности.

Слой приложения отвечает за логику приложения и взаимодействие между пользовательским интерфейсом и доменом.

Инфраструктурный слой включает в себя взаимодействие исключительно с внешними сервисами, такими как Редис в моем случае.

И самое главное что соблюдаеться однонаправленная зависимость от нижних слоев в верхние.