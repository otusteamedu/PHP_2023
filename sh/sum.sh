#!/bin/bash

# проверяем, что переданы два аргумента
if [ $# -ne 2 ]; then
  echo "Ошибка: необходимо передать два числа в качестве аргументов" >&2
  exit 1
fi

# проверяем, что аргументы являются числами
re='^[+-]?[0-9]+([.][0-9]+)?$'
if ! [[ $1 =~ $re ]] || ! [[ $2 =~ $re ]]; then
  echo "Ошибка: переданные аргументы не являются числами" >&2
  exit 1
fi

# удаляем символ "+" из аргументов, если он присутствует
# shellcheck disable=SC2001
arg1=$(echo "$1" | sed 's/+//')
# shellcheck disable=SC2001
arg2=$(echo "$2" | sed 's/+//')

# складываем аргументы и выводим результат
sum=$(echo "$arg1 + $arg2" | bc)
echo "$arg1 + $arg2 = $sum"

# применяем awk для вычисления среднего значения
avg=$(echo "$arg1 $arg2" | awk '{avg=($arg1+$arg2)/2; printf "%.2f", avg}')
echo "Среднее значение: $avg"
