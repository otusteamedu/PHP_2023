# Выполнение запроса
explain select id, status
from session_place
where status > 0


# Замер на 10 000 тестовых записей
# Производительность запроса 45 единиц
QUERY PLAN
Seq Scan on session_place  (cost=0.00..45.25 rows=1233 width=14)
  Filter: (status > 0)


# Замер на 10 000 000 тестовых записей
# Производительность запроса 44 809 единиц
QUERY PLAN
    Seq Scan on session_place  (cost=0.00..44809.25 rows=1240990 width=14)
      Filter: (status > 0)


# Оптимизация
# Добавлен составной индекс session_place_status_id_index, сортировка status по убыванию
# Замер на 10 000 000 тестовых записей
# Производительность запроса 35 337 единиц, уменьшение в 1.2 раза
QUERY PLAN
    Index Only Scan using session_place_status_id_index on session_place  (cost=0.43..35337.75 rows=1240990 width=6)
        Index Cond: (status > 0)
