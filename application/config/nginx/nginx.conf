events {
	# set amount of workers
	worker_connections 1024;
}

http {
	server {
		listen 80;

		# path where we should store our public files 
		root /data/www;

		location / {
			try_files $uri /index.php$is_args$args;
		}

		location ~ ^/.+\.php(/|$) {
			fastcgi_pass fpm:9000;

			# importing fascgi params from  /etc/nginx/fastcgi_params
			include fastcgi_params;

			# set path to our script file on the disk
			fastcgi_param SCRIPT_FILENAME $document_root/public/$fastcgi_script_name;
		}
	}
}

