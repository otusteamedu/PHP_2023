# Решение задачи

## Тест-кейсы для модульного тестирования

#### Валидация card_number
- если card_number содержит символы, отличные от цифр, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если количество символов в card_number не равна 16, то тестируемый метод возвращает код 400 с сообщением об ошибке;

#### Валидация card_holder
- если card_holder содержит символы, отличные от букв латинского алфавита, дефиса и пробела, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если card_holder содержит более одного символа пробел, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если card_holder содержит менее 2 слов, разделенных пробелом, то тестируемый метод возвращает код 400 с сообщением об ошибке;

#### Валидация card_expiration
- если card_expiration пустое, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если card_expiration не соответствует формату мм/гг, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если в card_expiration значение месяца меньше 1, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если в card_expiration значение месяца больше 12, то тестируемый метод возвращает код 400 с сообщением об ошибке;

#### Валидация cvv
- если cvv содержит символы, отличные от цифр, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если количество цифр в cvv меньше или больше 3, то тестируемый метод возвращает код 400 с сообщением об ошибке;

#### Валидация order_number
- если количество символов в order_number меньше 1, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если количество символов в order_number больше 16, то тестируемый метод возвращает код 400 с сообщением об ошибке;

#### Валидация sum
- если sum содержит символы, отличные от цифр и запятой, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если sum содержит больше одной запятой, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если в sum первый символ - запятая, то тестируемый метод возвращает код 400 с сообщением об ошибке;
- если в sum последний символ - запятая, то тестируемый метод возвращает код 400 с сообщением об ошибке;

## Тест-кейсы для интеграционного тестирования

### Связка "фронт-бэк"
- если card_number содержит буквы, то после получения ответа от бэка, на фронте выделяется поле "Номер карты" красной рамкой;
- если card_number пустое, то после получения ответа от бэка, на фронте выделяется поле "Номер карты" красной рамкой;
- если количество символов в card_number больше 16, то после получения ответа от бэка, на фронте выделяется поле "Номер карты" красной рамкой;
- если card_holder содержит более одного пробела, то после получения ответа от бэка, на фронте выделяется поле "Владелец карты" красной рамкой;
- если card_holder содержит цифры, то после получения ответа от бэка, на фронте выделяется поле "Владелец карты" красной рамкой;
- если card_holder содержит только имя, то после получения ответа от бэка, на фронте выделяется поле "Владелец карты" красной рамкой;
- если card_expiration пустое, то после получения ответа от бэка, на фронте выделяется поле "Срок действия карты" красной рамкой;
- если card_expiration не соответствует формату мм/гг, то после получения ответа от бэка, на фронте выделяется поле "Срок действия карты" красной рамкой;
- если card_expiration содержит значение месяца "13", то после получения ответа от бэка, на фронте выделяется поле "Срок действия карты" красной рамкой;
- если cvv пустое, то после получения ответа от бэка, на фронте выделяется поле "Код с обратной стороны карты" красной рамкой;
- если cvv содержит буквы, то после получения ответа от бэка, на фронте выделяется поле "Код с обратной стороны карты" красной рамкой;
- если cvv содержит 4 цифры, то после получения ответа от бэка, на фронте выделяется поле "Код с обратной стороны карты" красной рамкой;
- если order_number пустое, то после получения ответа от бэка, на фронте выделяется поле "Номер заказа" красной рамкой;
- если order_number содержит 17 символов, то после получения ответа от бэка, на фронте выделяется поле "Номер заказа" красной рамкой;
- если order_number содержит 17 символов, то после получения ответа от бэка, на фронте выделяется поле "Номер заказа" красной рамкой;
- если sum содержит буквы, то после получения ответа от бэка, на фронте выделяется поле "Сумма оплаты" красной рамкой;
- если sum содержит две запятые, то после получения ответа от бэка, на фронте выделяется поле "Сумма оплаты" красной рамкой;
- если в sum первым символом стоит запятая, то после получения ответа от бэка, на фронте выделяется поле "Сумма оплаты" красной рамкой;
- если в sum последним символом стоит запятая, то после получения ответа от бэка, на фронте выделяется поле "Сумма оплаты" красной рамкой;

### Связка "бэк-репозиторий"
- если передали в метод setOrderIsPid пустую строку для аргумента $orderNumber, то метод setOrderIsPid должен выбросить исключение с информацией о том, что данные не валидны
- если передали в метод setOrderIsPid значение 0.0 для аргумента $sum, то метод setOrderIsPid должен выбросить исключение с информацией о том, данные не валидны

## Тест-кейсы для системного тестирования
- если cvv неверен, то после получения ответа от бэка на фронте выводится сообщение об ошибке "Не удалось списать данные с карты, проверьте реквизиты"
- если указана не действительная дата окончания срока действия карты, то после получения ответа от бэка на фронте выводится сообщение об ошибке "Не удалось списать данные с карты, проверьте реквизиты"
