upstream nginx-balancer {
    least_conn;
    server nginx_web_1:8080;
    server nginx_web_2:8080;
}

server {
    listen 80;

    server_name application.local;

    location / {
        proxy_pass http://nginx-balancer/;
    }
}